"; -*- Mode: Lisp -*-"
(SYSTEM:INIT-FASL :VERSION 42)
(SETQ SYSTEM:*SOURCE* #P"/Volumes/vibhu/quicklisp/local-projects/cl-fad-0.7.2/temporary-files.lisp")
(SETQ SYSTEM::*FASL-UNINTERNED-SYMBOLS* #(#:G5023 #:WHOLE-5063 #:ENVIRONMENT-5064 #:WHOLE-5460 #:ENVIRONMENT-5461 #:WHOLE-5486 #:ENVIRONMENT-5487))
(SETQ SYSTEM:*FASL-LOADER* (SYSTEM::MAKE-FASL-CLASS-LOADER "org.armedbear.lisp.temporary_files_tmpFYV1R3GD"))
(SYSTEM:%IN-PACKAGE "CL-FAD")
(DEFPARAMETER *DEFAULT-TEMPLATE* "TEMPORARY-FILES:TEMP-%")
(DEFPARAMETER *MAX-TRIES* 10000)
(DEFVAR *NAME-RANDOM-STATE* (MAKE-RANDOM-STATE T))
(SYSTEM:FSET 'GETENV (SYSTEM::GET-FASL-FUNCTION SYSTEM:*FASL-LOADER* 0) 167 '(X) 
"Query the libc runtime environment. See getenv(3).")
(SYSTEM:FSET 'DIRECTORY-FROM-ENVIRONMENT (SYSTEM::GET-FASL-FUNCTION SYSTEM:*FASL-LOADER* 
1) 167 '(ENVIRONMENT-VARIABLE-NAME) #1=NIL)
(FUNCALL (SYSTEM::GET-FASL-FUNCTION SYSTEM:*FASL-LOADER* 2))
(MOP::ENSURE-METHOD 'PRINT-OBJECT :LAMBDA-LIST '(CONDITION STREAM) :QUALIFIERS '#1=NIL 
:SPECIALIZERS (MOP::CANONICALIZE-SPECIALIZERS (LIST 'MISSING-TEMP-ENVIRONMENT-VARIABLE 
'T)) :FUNCTION (SYSTEM::GET-FASL-FUNCTION SYSTEM:*FASL-LOADER* 3))
(SYSTEM:FSET 'GET-DEFAULT-TEMPORARY-DIRECTORY-WIN (SYSTEM::GET-FASL-FUNCTION SYSTEM:*FASL-LOADER* 
9) 167 '#1=NIL #1# )
(SYSTEM:FSET 'GET-DEFAULT-TEMPORARY-DIRECTORY-NONWIN (SYSTEM::GET-FASL-FUNCTION SYSTEM:*FASL-LOADER* 
10) 167 '#1=NIL #1# )
(FUNCALL (SYSTEM::GET-FASL-FUNCTION SYSTEM:*FASL-LOADER* 11))
(FUNCALL (SYSTEM::GET-FASL-FUNCTION SYSTEM:*FASL-LOADER* 12))
(DEFVAR *CREATE-FILE-NAME-LOCK* (BORDEAUX-THREADS:MAKE-LOCK "Temporary File Name Creation Lock"))
(SYSTEM:FSET '#1=WITH-FILE-NAME-LOCK-HELD (SYSTEM:MAKE-MACRO '#1#  (SYSTEM::GET-FASL-FUNCTION 
SYSTEM:*FASL-LOADER* 14)) 3267 '(#2=NIL &BODY BODY))
(SYSTEM:FSET 'GENERATE-RANDOM-STRING (SYSTEM::GET-FASL-FUNCTION SYSTEM:*FASL-LOADER* 
15) 3395 '#1=NIL #1# )
(FUNCALL (SYSTEM::GET-FASL-FUNCTION SYSTEM:*FASL-LOADER* 17))
(MOP::ENSURE-METHOD 'PRINT-OBJECT :LAMBDA-LIST '(CONDITION STREAM) :QUALIFIERS '#1=NIL 
:SPECIALIZERS (MOP::CANONICALIZE-SPECIALIZERS (LIST 'INVALID-TEMPORARY-PATHNAME-TEMPLATE 
'T)) :FUNCTION (SYSTEM::GET-FASL-FUNCTION SYSTEM:*FASL-LOADER* 18))
(SYSTEM:FSET 'GENERATE-RANDOM-PATHNAME (SYSTEM::GET-FASL-FUNCTION SYSTEM:*FASL-LOADER* 
24) 3868 '(TEMPLATE RANDOM-STRING-GENERATOR) #1=NIL)
(FUNCALL (SYSTEM::GET-FASL-FUNCTION SYSTEM:*FASL-LOADER* 25))
(MOP::ENSURE-METHOD 'PRINT-OBJECT :LAMBDA-LIST '(CONDITION STREAM) :QUALIFIERS '#1=NIL 
:SPECIALIZERS (MOP::CANONICALIZE-SPECIALIZERS (LIST 'CANNOT-CREATE-TEMPORARY-FILE 
'T)) :FUNCTION (SYSTEM::GET-FASL-FUNCTION SYSTEM:*FASL-LOADER* 26))
(SYSTEM:FSET 'OPEN-TEMPORARY (SYSTEM::GET-FASL-FUNCTION SYSTEM:*FASL-LOADER* 32) 
4719 '(&REST OPEN-ARGUMENTS &KEY (TEMPLATE *DEFAULT-TEMPLATE*) (#1=GENERATE-RANDOM-STRING 
'#1# ) (MAX-TRIES *MAX-TRIES*) (DIRECTION :OUTPUT) &ALLOW-OTHER-KEYS) "Create a file with a randomly generated name and return the opened
   stream.  The resulting pathname is generated from TEMPLATE, which
   is a string representing a pathname template.  A percent sign (%)
   in that string is replaced by a randomly generated string to make
   the filename unique.  The default for TEMPLATE places temporary
   files in the TEMPORARY-FILES logical pathname host, which is
   automatically set up in a system specific manner.  The file name
   generated from TEMPLATE is merged with *DEFAULT-PATHNAME-DEFAULTS*,
   so random pathnames relative to that directory can be generated by
   not specifying a directory in TEMPLATE.

   GENERATE-RANDOM-STRING can be passed to override the default
   function that generates the random name component.  It should
   return a random string consisting of characters that are permitted
   in a pathname (logical or physical, depending on TEMPLATE).

   The name of the temporary file can be accessed calling the PATHNAME
   function on STREAM.  For convenience, the temporary file is opened
   on the physical pathname, i.e. if the TEMPLATE designate a logical
   pathname the translation to a physical pathname is performed before
   opening the stream.

   In order to create a unique file name, OPEN-TEMPORARY may loop
   internally up to MAX-TRIES times before giving up and signalling a
   CANNOT-CREATE-TEMPORARY-FILE condition.")
(SYSTEM:FSET '#1=WITH-OUTPUT-TO-TEMPORARY-FILE (SYSTEM:MAKE-MACRO '#1#  (SYSTEM::GET-FASL-FUNCTION 
SYSTEM:*FASL-LOADER* 33)) 6918 '((STREAM &REST ARGS) &BODY BODY))
(SYSTEM:FSET '#1=WITH-OPEN-TEMPORARY-FILE (SYSTEM:MAKE-MACRO '#1#  (SYSTEM::GET-FASL-FUNCTION 
SYSTEM:*FASL-LOADER* 34)) 7311 '((STREAM &REST ARGS &KEY KEEP &ALLOW-OTHER-KEYS) 
&BODY BODY))
